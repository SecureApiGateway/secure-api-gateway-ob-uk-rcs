# General API provider information
# API provider is the organization that exposes the Open Banking API capabilities to be consumed by TPPs (usually a Bank)
api:
  provider:
    id: 0 # api provider ID (optional)
    name: Forgerock Bank simulation config # api provider Name (default value: Forgerock Bank Simulation), used to display the account provider in consent user interface
    address: Forgerock street, 99, XX1 2YY, Forgeshire, uk # api provider address (Optional)
#Swagger
springfox:
  documentation:
    swagger:
      v2:
        path: /api-docs

# identity-platform properties for client
identity-platform:
  client:
    ig_fqdn: ${IG_FQDN:https://obdemo.dev.forgerock.financial}
    identity_platform_fqdn: ${IDENTITY_PLATFORM_FQDN:https://iam.dev.forgerock.financial}
    jwk_uri: ${identity-platform.client.identity_platform_fqdn}/am/oauth2/connect/jwk_uri
    contexts_api_client:
      get: /repo/apiclients/@ClientId@
      put: /repo/apiclients/@ClientId@
      patch: /repo/apiclients/@ClientId@
      delete: /repo/apiclients/@ClientId@
    contexts_user:
      get: /repo/users/@UserId@
      put: /repo/users/@UserId@
      patch: /repo/users/@UserId@
      delete: /repo/users/@UserId@
    contexts_repo_consent:
      get: /repo/consents/@IntentId@
      put: /repo/consents/@IntentId@
      patch: /repo/consents/@IntentId@
      delete: /repo/consents/@IntentId@
    #jwk signing service
    jwkms_request_method: POST
    jwkms_consent_signing_endpoint: /jwkms/rcs/signresponse

rcs:
#  issuerId: forgerock-rcs
  consent:
    request:
      jwt:
        must-be-validated: false
  rs_fqdn: ${RS_FQDN:localhost}
  schema: https

rs:
  backoffice:
    uris:
      accounts:
        findUserById: /backoffice/accounts/search/findByUserId
        findByAccountIdentifiers: /backoffice/accounts/search/findByAccountIdentifiers
      domestic-payments:
        findUserById: /backoffice/domestic-payments/search/findByUserId
#  internal-port: 8081
#  base-url: https://rs-simulator:${rs.internal-port}

# Configuration properties entries for common libraries
common: # root key for all common 'securebanking-common-*' libraries
  cors: # library name
    allowed_origins:
      - localhost
      - forgerock.financial # valid for *.forgerock.financial
      - domain4test.com # don't delete it!
    allowed_headers: accept-api-version, x-requested-with, authorization, Content-Type, Authorization, credential, X-XSRF-TOKEN, Id-Token
    allowed_methods: GET, PUT, POST, DELETE, OPTIONS, PATCH
    allowed_credentials: true # default value true
    max_age: 3600 # default value 3600

# Swagger Documentation Specification properties
swagger:
  title: Secure Banking Access Toolkit
  description: Swagger for Read/Write Open Banking API Specification (UK) (https://openbankinguk.github.io/read-write-api-site3)
  license: open-licence
  license-url: https://www.openbanking.org.uk/open-licence
  terms-of-service-url: https://backstage.forgerock.com/knowledge/openbanking/article/a45894685
  contact-name: ForgeRock RS Simulator
  contact-url: https://www.forgerock.com/
  docket-apis-basePackage: com.forgerock.securebanking.openbanking.uk.rcs.api
  docket-paths-selector-regex: /.*
